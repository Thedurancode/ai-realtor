# ========================================
# AI REALTOR PLATFORM - ENVIRONMENT VARIABLES
# ========================================
# Copy this file to .env and fill in your API keys
#
# This platform integrates with 30+ external services
# All APIs are optional - the platform will function
# with only the APIs you configure

# ========================================
# MINIMUM REQUIRED FOR BASIC FUNCTIONALITY
# ========================================
# To get started with core features, you need:
#
# 1. DATABASE_URL - PostgreSQL database
# 2. ANTHROPIC_API_KEY - AI features
# 3. GOOGLE_PLACES_API_KEY - Address lookup
#
# Everything else is optional and enables specific features

# ========================================
# DATABASE
# ========================================
# PostgreSQL database connection string
DATABASE_URL=postgresql://user:password@localhost:5432/ai_realtor

# ========================================
# AI & LANGUAGE MODELS (4 APIs)
# ========================================

# Anthropic Claude AI (PRIMARY - REQUIRED)
# Primary AI for contract analysis, recaps, compliance, research
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-key-here

# OpenAI (OPTIONAL)
# Used for embeddings (text-embedding-3-small) for semantic search
# Get your key at: https://platform.openai.com/
OPENAI_API_KEY=sk-your-openai-key-here

# OpenRouter (OPTIONAL)
# LLM routing for video script generation
# Get your key at: https://openrouter.ai/
OPENROUTER_API_KEY=your-openrouter-key-here

# GPT-4 (OPTIONAL)
# Alternative LLM for some VAPI calls
# Get your key at: https://platform.openai.com/
# Note: Uses same OPENAI_API_KEY

# ========================================
# PROPERTY & ADDRESS APIs (4 APIs)
# ========================================

# Google Places API (PRIMARY - REQUIRED)
# For address autocomplete and geocoding
# Get your key at: https://console.cloud.google.com/
GOOGLE_PLACES_API_KEY=your-google-places-api-key-here
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_OAUTH_REDIRECT_URI=https://your-domain.com/calendar/oauth/callback

# RapidAPI (For Zillow & Skip Trace)
# Get your key at: https://rapidapi.com/
RAPIDAPI_KEY=your-rapidapi-key-here

# Zillow API (via RapidAPI)
# For property data enrichment (Zestimates, photos, schools, etc.)
ZILLOW_API_HOST=private-zillow.p.rapidapi.com

# Skip Trace API (via RapidAPI)
# For owner contact discovery (phone, email, mailing address)
SKIP_TRACE_API_HOST=skip-tracing-working-api.p.rapidapi.com

# RentCast API (OPTIONAL)
# For rental market data and comparables
# Get your key at: https://rentcast.io/
RENTCAST_API_KEY=your-rentcast-api-key-here

# ========================================
# CONTRACTS & DOCUMENTS (1 API)
# ========================================

# DocuSeal (E-Signatures)
# For contract e-signatures with webhook sync
# Get your key at: https://docuseal.co/
DOCUSEAL_API_KEY=your-docuseal-api-key-here
DOCUSEAL_WEBHOOK_SECRET=your-webhook-secret-here
DOCUSEAL_API_URL=https://api.docuseal.com

# ========================================
# EMAIL & COMMUNICATION (2 APIs)
# ========================================

# Resend (Email Service)
# For transactional emails with PDF attachments
# Get your key at: https://resend.com/
RESEND_API_KEY=your-resend-api-key-here
RESEND_FROM_EMAIL=notifications@ai-realtor.com
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=Real Estate Contracts

# ========================================
# VOICE & PHONE CALLS (4 APIs)
# ========================================

# VAPI (Phone Calls - PRIMARY)
# For AI-powered phone calls with property context
# Get your key at: https://vapi.ai/
VAPI_API_KEY=your-vapi-api-key-here
VAPI_PHONE_NUMBER_ID=your-phone-number-id-here
VAPI_WEBHOOK_SECRET=your-vapi-webhook-secret-here

# Telnyx (Alternative Phone Provider)
# For phone calls with more control (AMD, recording)
# Get your key at: https://telnyx.com/
TELNYX_API_KEY=your-telnyx-api-key-here
TELNYX_CONNECTION_ID=your-telnyx-connection-id-here
TELNYX_PHONE_NUMBER=+14155551234
TELNYX_WEBHOOK_URL=https://your-domain.com/telnyx/webhook
TELNYX_WEBHOOK_SECRET=your-telnyx-webhook-secret-here

# ElevenLabs (Text-to-Speech)
# For AI voice synthesis in phone calls and videos
# Get your key at: https://elevenlabs.io/
ELEVENLABS_API_KEY=your-elevenlabs-api-key-here

# ========================================
# DIRECT MAIL (1 API)
# ========================================

# Lob.com (Direct Mail)
# For sending postcards, letters, and checks via USPS
# Get your key at: https://lob.com/
LOB_API_KEY=your-lob-api-key-here
LOB_WEBHOOK_SECRET=your-lob-webhook-signing-key-here
LOB_TEST_MODE=false  # Set to true for testing (no actual mail sent)

# ========================================
# CALENDAR INTEGRATION (1 API)
# ========================================

# Google Calendar OAuth
# For syncing tasks, appointments, and follow-ups
# Uses Google OAuth 2.0
# Get credentials at: https://console.cloud.google.com/
# (Already configured above with GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET)

# ========================================
# MARKETING - PAID ADS (3 APIs)
# ========================================

# Meta (Facebook/Instagram Ads)
# For launching ads to Facebook Ads Manager
# Get your access token at: https://developers.facebook.com/
META_ACCESS_TOKEN=your-meta-access-token-here
META_AD_ACCOUNT_ID=act_1234567890

# Zuckerbot AI (Facebook Ad Generation)
# AI-powered Facebook ad campaign generation
# Get your key at: https://zuckerbot.ai/
ZUCKERBOT_API_KEY=zb_live_your-key-here

# Facebook Ads API
# Direct Meta Ads API access
FACEBOOK_ADS_ACCOUNT_ID=act_your_account_id

# ========================================
# MARKETING - SOCIAL MEDIA (1 API)
# ========================================

# Postiz (Multi-Platform Social Posting)
# For posting to Facebook, Instagram, LinkedIn, TikTok, Twitter
# Get your API key from Postiz dashboard
POSTIZ_API_KEY=your-postiz-api-key-here
POSTIZ_BASE_URL=https://api.postiz.com

# ========================================
# VIDEO GENERATION (5 APIs)
# ========================================

# HeyGen (AI Avatar Videos)
# For generating AI avatar videos
# Get your key at: https://www.heygen.com/
HEYGEN_API_KEY=your-heygen-api-key-here

# D-ID (Talking Head Videos)
# For generating talking head videos
# Get your key at: https://www.d-id.com/
DID_API_KEY=your-did-api-key-here

# Replicate (PixVerse Footage)
# For generating video background footage
# Get your key at: https://replicate.com/
REPLICATE_API_KEY=your-replicate-api-key-here

# VideoGen (Alternative Video Generation)
# For AI video generation from property data
# Get your key at: https://videogen.com/
VIDEOGEN_API_KEY=your-videogen-api-key-here

# ========================================
# RESEARCH & INTELLIGENCE (1 API)
# ========================================

# Exa AI (Web Research)
# For agentic property research
# Get your key at: https://exa.ai/
EXA_API_KEY=your-exa-api-key-here
EXA_BASE_URL=https://api.exa.ai
EXA_SEARCH_TYPE=auto
EXA_TIMEOUT_SECONDS=20

# ========================================
# STORAGE & INFRASTRUCTURE (3 APIs)
# ========================================

# AWS S3 (Cloud Storage)
# For storing documents, photos, videos
AWS_ACCESS_KEY_ID=your-aws-access-key-here
AWS_SECRET_ACCESS_KEY=your-aws-secret-key-here
AWS_REGION=us-east-1
AWS_S3_BUCKET=ai-realtor-documents

# Redis (Caching & Job Queue)
# For caching and job queues (optional)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# Remotion Rendering (Video Rendering)
# Worker concurrency for video rendering
WORKER_CONCURRENCY=1

# ========================================
# INTEGRATION PLATFORMS (1 API)
# ========================================

# Composio (MCP Tool Management)
# For MCP tool routing and management
# Get your key at: https://composio.dev/
COMPOSIO_API_KEY=your-composio-api-key-here
COMPOSIO_EXTERNAL_USER_ID=ai-realtor-agent

# ========================================
# CUSTOMER PORTAL
# ========================================
# Portal JWT secret for authentication
PORTAL_JWT_SECRET=change-this-in-production-use-a-strong-random-secret
PORTAL_URL=http://localhost:3025

# ========================================
# CAMPAIGN WORKER CONFIGURATION
# ========================================
CAMPAIGN_WORKER_ENABLED=true
CAMPAIGN_WORKER_INTERVAL_SECONDS=15
CAMPAIGN_WORKER_MAX_CALLS_PER_TICK=5

# ========================================
# DAILY DIGEST SCHEDULE
# ========================================
DAILY_DIGEST_ENABLED=true
DAILY_DIGEST_HOUR=8

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=20/hour
RATE_LIMIT_BURST=30/minute

# ========================================
# CORS (CROSS-ORIGIN RESOURCE SHARING)
# ========================================
CORS_ORIGINS=http://localhost:3025,http://localhost:3000,http://localhost:8000

# ========================================
# ENVIRONMENT
# ========================================
ENVIRONMENT=development
LOG_LEVEL=INFO

# ========================================
# WEBHOOK CONFIGURATION
# ========================================
WEBHOOK_BASE_URL=https://ai-realtor.fly.dev
# For local development with ngrok:
# WEBHOOK_BASE_URL=https://your-ngrok-url.ngrok.io

# ========================================
# AUTOMATION SETTINGS
# ========================================
PIPELINE_AUTOMATION_ENABLED=true
PIPELINE_CHECK_INTERVAL=5
TASK_RUNNER_INTERVAL=60

# ========================================
# OPTIONAL: TELEGRAM BOT
# ========================================
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here
TELEGRAM_BOT_WEBHOOK_SECRET=your-webhook-secret-here

# ========================================
# API COST ESTIMATES (PER MONTH)
# ========================================
# Free Tier (Development): $100-300/month
# Production: $500-1,500/month
# Enterprise: $2,000-5,000/month
#
# Major cost drivers:
# - Claude Sonnet 4 (heavy usage)
# - VAPI phone calls (per minute)
# - Video generation (HeyGen, D-ID)
# - Direct mail (Lob.com per piece)
# - Facebook Ads spend (separate)
#
# Full pricing guide: See docs/API_COSTS.md
